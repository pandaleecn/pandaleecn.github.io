---
layout: post
title: 'QQ音乐创新平台'
date: 2018-08-25
author: 李大鹏
cover: ''
tags: iOS
---

#### TME-QQ 音乐创新平台 iOS 开发工程师（深圳）

- 工作职责

  - 负责 QQ 音乐，Q 音探歌等 App 的开发和维护工作；
  - 负责创新产品的技术攻关和研发；
  - 负责 QQ 音乐开放能力的建设和维护；
  - 负责产品架构的改进及性能优化。

- 工作要求
  - 计算机相关专业本科及以上学历，扎实的基础知识；
  - iOS 相关经验 2 年以上工作经验，精通 objective c 语言，了解 c++, c, swift 等语言；
  - 有良好的编程习惯和代码质量；+
  - 熟悉 iOS SDK 相关 api 和 framework 的使用方法；
  - 熟悉目前主流的 iOS app 构架和系统设计方法；
  - 有多媒体，音频，视频开发相关经验者优先；
  - 有强烈的责任心和良好的沟通表达能力；
  - 技术学习能力强，要求有拓展技术栈的能力。

#### 面经 1：腾讯 QQ 音乐项目组-iOS-2020-06-19 11:47

- 1、自我介绍；
- 2、现在在做项目的难点是什么，一些细节延伸；
- 3、直播室聊天模块怎么设计，难点在哪里；
- 4、怎么从 100 万条数据中选出排在前面的 100 条数据（topK 问题）；
- 5、网络-dns，长连接，httpDNS；
- 6、快排实现过程及复杂度，二叉树的遍历前序、后续遍历；
- 8、聊下性能优化；
- 9、如何保障 App 的数据安全；
- 10、runLoop，和 runloop 的运用，实现细节；
- 11、现在做过的项目哪个最难，对自己的成长帮助最大；
- 12、多线程与线程同步锁。

#### iOS 的面试-qq 音乐

面试中，实战优先，我面试的是 qq 音乐
面试过程还是不错的，面试官人也不错，主要问的是的你再项目中做了什么，有什么优点值得说的，还有一些 runtime 底层的东西，我准备不充分，pass 了。

#### QQ 音乐 算法工程师面试

电话面试，40min 左右。先问简历相关，再问项目具体，再问一些他们具体的问题。
问到了如何检测音频中的擦损和噪声问题，以及如何解决。
之后还问到了一些基础的一维信号处理的东西，比如 FFT，PSD 具体算法还有相关复杂度。
我答得不哈没通过，TST 内推还是要求很高的。

#### Java 的面试-腾讯 QQ 音乐后台面试

先做了一道笔试题，遍历二叉树，之后聊了一下项目的选型和架构设计，还问了一些 spark 的相关问题。
面试官的问题：
ka'fa'k 和 f'lin'k 怎么保证刚好一次性。

#### 可以试一下，基础不好的话就别参加了-iOS

我主要面试的是音视频开发相关 OpenGL 问题项目中最难的：音视频同步 sps，pps 用处，初始化解码器，解码器是哪个 I， p， b 的含义如何解析 H264 流 h264 与 h265 的区别，解析 H264 的类的名称，然后就是 c 的一些问题，比如判断循环链表设置两个指针 fast 和 slow，都指向头节点，一个一次移动两次，一个一次移动一次，如果，有一个时刻，他们两个相遇了，或者 fast 的 next 是 slow（fast 跑到了 slow 的前面），那么就代表有环。

- 判断循环链表。
- 答：设置两个指针 fast 和 slow，都指向头节点，一个一次移动两次，一个一次移动一次，如果，有一个时刻，他们两个相遇了，或者 fast 的 next 是 slow（fast 跑到了 slow 的前面），那么就代表有环。

#### iOS 实习工程师的面试

问题相对基础，比较容易
面试整个流程一天就结束了，分两面，聊得都是比较基础的问题，没有太大难度。算法方面写了两道题，一个是求数的二进制中 1 的个数，另一个是鹅厂喜闻乐见的矩阵转圈填充的问题。

#### ios 面试，二面没有过

一面：主要考察了排序算法，ios 底层，多线程，以及断点上传和下载，架构思想。二面：主要考察项目中的突出难点。

#### 腾讯云中高级 iOS 一面

自我介绍，http 结构 https 如何保证安全，runtime 数据结构，weak 内存管理机制，gcd 常用函数，项目中遇到的难题，如何解决。

#### iOS 的面试，一面二面一起

一面问底层基础，二面问简历，知名框架理解，项目难点，解决方案，穿插一些底层知识，没有问算法。
周五面试，周一收到结果

#### iOS 的面试

iOS 一面-电话面试
全程 1 小时左右，电话沟通挺不稳的，很多懂的东西（不是非常透彻的那种）难以用言语解释清楚，要是现场面试的话还能通过肢体语言和画图解释。开始问项目，说说项目中遇到的技术上的难点，并说下如何解决。iOS 的基础知识方面，线程死锁，循环引用，进程线程区别，block 与 delegate，KVO 细节，UITableView 的卡顿优化，weak 自动置 nil 原理，内存调优等，可能是 1 年经验的岗位原因吧，没问 runtime，runloop，method swizzling 之类的。

然后数据结构与算法部分，LRU 缓存的实现、堆排序过程、统计 1T 日志文件字符串出现次数以及一些更基础的东西像老生常谈的数组链表二叉树区别等等，网络协议方面 TCP 三次握手四次挥手过程细节、流量控制的窗口、TCP 的 seq 计数、HTTP 状态码等等。总体基础问题较多，项目经验问的不多。

LRU 缓存实现？
哈希表配合连接双向链表，哈希表实现 O(1)的查找，双向链表实现 O(1)的插入删除，数据进来后先查找，若存在则删除链表中的该节点然后再重新插入链表头部（定义新数据进入链表头部，老的从尾部删）；若不在则看缓存满没，满了就删除尾部老数据，然后新数据插入头部；没满就直接插入头部。

TCP 的 seq 计数？
内部维护 32 位的计数器，每 4 微秒+1，每个包的序号确定后，对方返回的包的 ack 就是 seq+1，计数器约 4 小时就满了重置，而包的寿命肯定远小于 4 小时。

统计 1T 日志文件中的字符串出现次数？
如果有多机可并行处理，就先用哈希算法分片，对每条字符串算出哈希值后对服务器数量取余求模，保证同样的字符串会进入同一台机器（如果要实现服务器数量随时增减就用一致性哈希算法来计算哈希值），然后在每台机器中用算出的哈希值对字符串计数，如果后续还要求 topK 出现次数字符串的话就每台机器维护大小为 K 的小顶堆，遍历单机内的数据得到每台机器的 topK，最后汇总所有 N 台机器的一共 N\*K 条数据，再建立一个 K 大小的小顶堆遍历一遍即得到所有数据的 TopK。

#### iOS 的面试

面试注重基础，同时要求对自己项目有一定理解
先是笔试，都是基础数据结构和算法题，难度一般。然后面试官问的 iOS 问题，runloop, block, http/https，会结合你做过的项目进行考察。

#### iOS 的面试

比较看中基础和算法，同时也看经验
1 面先做几道算法题，做的一般般，可能觉得我经验还可以，就进入 2 面，2 面问问项目经历以及用过的技术，重点考察对使用技术的掌握程度，3 面问的比较开放同时也聊了未来规划。

#### ios 工程师的面试

一面电话面试题目

- OC 这一块怎么样？Swift、C、C++ 有了解过么？- Copy 这个关键词用在什么场景下？NSArray Copy 时，里面的元素会被 Copy 么？- Runtime 会用么？工作中有哪些用法？runtime 除了动态创建类，还能做什么？load、class 方法有没有用过？- KVO，KVC- 算法平时会用么？- 网络呢？封装的 AFNetworking- GCD 呢？都用过哪些？- HTTPS？为什么安全？- TCP／IP 网络协议栈？TCP 属于哪一层？HTTP 属于哪一层？- UI，动画用过哪些？哪些动画框架？- 有没有做过图片方面的处理的经验？如何压缩？缩放？调整方向？加一些效果？- 除了 SQLite，还有到其他存储方案么？- 平时多线程用的多么？锁的类型，涉及到哪些？具体哪些应用？- 你觉得比较擅长，但是没有聊到的方向？-

有哪些开发者需要关注的地方？回复评论、图标更换、APFS- 发布、签名是否了解？- RPAPatch，对一些行为更改- 调用一个接口，中间涉及到什么？执行流程？发生了什么？a 类的 b 函数？- 在子线程启动一个 timer，有什么需要注意的么？model、内存泄漏- 有用过 RAC 框架么？原理？- 有没有什么没问到，想讲的点？组建 cell，高度计算问题具体怎么处理的？

#### 移动研发工程师（iOS）的面试

突如其来的移动开发腾讯面试
9 月份中旬做的笔试，接近一个月以后发来了面试邀请，而且笔试真的做的稀巴烂，不知道他们是如何选择的，人很多岗位也很多，就是那种一个大厅，每个面试官都有一个小桌，一天可能 8-10 个人，上去直接也没有什么介绍，就直入主题，而且腾讯的岗位分的都很细，直接就是问和本岗位相关的，不会过多的考一些知识点或者面经的东西。

感觉进去就是要直接干活的，不像别的互联网企业可能会看看你的各个方面的能力，综合考量，一面就是一个多小时，这个很直接，也很快。我并不是主攻移动开发的，很多之前做的东西，很久不用都忘了。

面试官的问题：
会让写 1-2 道简单的程序题，比如使用 map 的一些简单的程序题？
直接说思路，相对简单，感觉只要是考察基础的知识。
问一些相关移动开发的基础知识，比如 activity 的周期，等等？
确实好久没用了，基本没答上来。
最后会根据你简历里边的项目问一些知识？
简单回答了一下，感觉面试官不是很感兴趣。

#### iOS 的面试，一定要做好全面准备再应聘大厂

某天接到猎头电话，说有 TX 的工作经验推荐，刚好自己内心正处于波动期，想更换一份新的工作，TX 的机会当然不能错过。于是通过电话及 WX 沟通，配合猎头将履历写好推至 TX，不得不说效率很高，第二天便接到了 TX 的电话面试邀约。准备好空间戴上耳机开启了与 TX 的第一面。

因为是第一面，所以问的问题其实都不难，内存管理，MRC/ARC，autoreleasepool，property，category，extension，block，runtime，layout 这些 iOS 理论知识。但由于仓促未能复习好知识体系，表层的内容都答出来了，但后续深入要么答不出要么支支吾吾不确定，聊了一个多钟，最后欢快友好的结束了面试。

结果当然是没过，自我预计回答刚及格，这肯定达不到 TX 的要求。

#### 腾讯 iOS 面试题分享

- 面试官还不错的，专业性比较强，整体聊下来感觉答得很一般，基本回答了一半多的问题，剩余的不会，还需要再修炼。把面试问题整理出来分享给大家。
- 1.iOS 中的消息传递, 包括 delegate, notification, block 等的区别,详细的介绍 2.notification 在哪里取消, 为什么要取消? 会有什么影响? 3.多个线程之间可以通过 notification 传递消息吗?(notification 和多线程问题)
  4.iOS 开发和 android 开发, mac 开发哪里不同? 有什么好的地方? 为什么好?
  5.nonatomic, weak 的使用, 什么时候使用 atomic? 6.进程和线程的区别?
  7.iOS 数据存储方式有哪几种? 8.多线程访问数据读和写问题?(读写同步, 加锁)
  9.iOS 中循环引用问题, 怎么避免?
  10.coreData 有哪些问题? 11.自己做的项目中遇到什么难题? 怎么解决的?
  12.OC 语言最好的地方是哪里?
  13.synthesize 和 dynamic 的区别, 用法? 问了我 arc 下内存管理，sdwebimage 原理 Notificationcenter 不 remove 为什么会崩溃

#### 测试工程师的面试

鹅厂音乐部门面试
在 boss 直聘上随手投的简历，hr 告诉我简历筛选过了，说之后会约时间面试，面试约在了下周三晚上八点，期间会有短信提醒，我提前到达面试地点，八点零五分左右面试官来了，一个说话很直接的小姐姐，上来先让自我介绍，让我看我会 Ui 自动化测试，让我写登录脚本，看完我的脚本问我你怎么知道 sendkeys 传的张三就一定输入进去了呢，怎么判断，然后问我定位方法，问我如果路径老是变化如何定位，问我 N 多个 xpath 如何存储并去取值，我答存在 hashmap 里面，key 跟 value 对应上，然后让我手写出来。

然后问我如何取元素的属性，然后问 jmeter 如何提取参数，多个参数如何提取，如何传参，如何做的性能测试，看哪些指标，CPU 过高怎么判断是程序的问题还是别的问题。然后是数据库 SQL 编写，查看日志的 Linux 命令，手写代码实现 1 的阶乘到 50 的阶乘求和，然后问除了用 Java 写 Ui 自动化还会干啥，答会写一些方法导出 jar 包放到 jmeter 下调用，然后马上让我手写出来。然后问我 996 接受吗，然后问我期望以后的工作内容功能、自动化、性能的比例大概是多少，80%的功能测试能接受吗？我说不能接受！

然后我问开发测试比例大概多少，答曰 10:1，说是新成立的部门，一直在开发新功能，我说腾讯的功能测试不都外包出去了吗，答曰算上外包是 5:1，说是一直招不到人，我说是你们要求太高了吧，她笑笑，我心想但凡技术好的谁愿意做 80%的功能测试啊，不都想做自动化测试、性能测试。至此，面试结束。希望对接下来的小伙伴有帮助！

#### 腾讯音乐 2 面失败总结-投资 VP-深圳

- 本人背景偏大消费和医疗服务投资，TMT 接触有限，因为过往的成功投资案列拿到 2 面。1 面 HR，通过 2 面应该是直系上司，面试官比较年轻，新进公司不久，问题比较多是在某个单一投资项目上面，更在乎项目的亮点是什么，怎么去评估项目并没有问的很具体。

- 没有涉猎到模型内容的交流，也没有任何关于案列深度讨论的环节，处于一个比较轻松的状态。面试官有询问如何搜寻项目的方式：大概列举了 9 种不同的方式吧。之后反问面试官公司的投资逻辑，投资金额，待遇以及发展方向和晋升路径，面试官不愿披露太多。

- 总结：可能大家的用语不在同层面上，存在一些沟通障碍，面完的当下就知道自己一定被否决。下次记得要用对方的说话方式去表达，这样有利于沟通和交流。

#### 面试由浅到深，知识面很广，很有挑战。

一面二面感觉挺好，跟面试官沟通的很舒服，问题也是由浅入深，有底层技术点、组件化，性能优化，系统架构，到跨平台，算法，聊得很开心，三轮的时候是晚上，面试官稍显严肃，手写算法发挥不理想，擦肩而过，失去一次不错的机会。

#### 腾讯电话面试，没准备好

腾讯电话面试：

1. 堆和栈；
2. 内存管理机制；
3. week 和 assing 的区别，了不了解 week 的底层实现；
4. NSDictionary 聊不了解；
5. KVO 模式的实现过程；
6. KVO 模式中监听者使用的 observeForKeyPath 方法中的 change 是什么类型的；
7. 自定义实现 set 方法该怎么实现；
8. 你有什么想问的。
