I"
<h4 id="1-对象类对象原类对象">1. 对象、类对象、原类对象</h4>
<ul>
  <li>类对象存储实例方法列表等信息</li>
  <li>元类对象存储类方法列表等信息
<img src="http://files.pandaleo.cn/d0ecd785f8d74ea94a23ae94d8182d78.png" alt="" /></li>
  <li>实例对象可以通过isa找到类对象，类对象存储实例方法列表等信息，类对象通过isa找到元类对象，从而访问元类对象存储的类方法列表等信息。</li>
  <li>类对象和元类对象都是objc_class数据结构，都继承了NSObject，所以可以通过isa指针查找。</li>
  <li>任何元类指针对象都指向根元类对象。</li>
  <li>调用类方法不存在的情况下，由于Root class的isa指针指向根类对象，会查找实例对象方法并调用。</li>
  <li>消息传递过程：调用实例方法时，先通过isa找到类对象的方法列表，没有时顺次查找父类对象方法列表，最后到根类。如果没有找到，会转到消息转发流程。类方法类似，区别在于最后的根元类对象找不到会根据isa指针查找根类对象。</li>
</ul>

<h4 id="2-消息传递">2. 消息传递</h4>
<p><img src="http://files.pandaleo.cn/9358bd2e0b4ec6c5c31747efbfd138d3.png" alt="" />
两次打印都是Phone</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void objc_msgSend(void /* id self, SEL op, … */)
</code></pre></div></div>
<p><img src="http://files.pandaleo.cn/fa53d1012e0ea7a39c0c42ac693480aa.png" alt="" /></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void objc_msgSendSuper(void /* struct objc_super *super, SEL op, …*/)
</code></pre></div></div>
<p><img src="http://files.pandaleo.cn/013ec9212a419b944fa7f955108bd6d7.png" alt="" /></p>
<ul>
  <li>消息传递过程
<img src="http://files.pandaleo.cn/97c4810c40c7feb71f5b1eb6fa66e465.png" alt="" /></li>
</ul>

<h4 id="3-缓存查找">3. 缓存查找</h4>
<ul>
  <li>例：给定值是SEL，目标值是对应bucket_t中的IMP
<img src="http://files.pandaleo.cn/a581ec9f9b6363c8f358b6d58041ea56.png" alt="" /></li>
</ul>

<h4 id="4-当前类中查找">4. 当前类中查找</h4>
<ul>
  <li>对于已排序好的列表，采用二分法查找算法查找方法对应执行函数。</li>
  <li>对于没有排序的列表，采用一般遍历查找方法对应执行函数</li>
</ul>

<h4 id="5-父类逐级查找">5. 父类逐级查找</h4>
<p><img src="http://files.pandaleo.cn/0b1112a61f79a2cb7445337bcd12f85e.png" alt="" /></p>

<h4 id="6-消息转发流程">6. 消息转发流程</h4>
<p><img src="http://files.pandaleo.cn/fc48226ba969aebd79df0c54a62f6cb4.png" alt="" /></p>
:ET